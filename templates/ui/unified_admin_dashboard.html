{% extends "ui/unified_admin_base.html" %}

{% block admin_title %}Ã–versikt{% endblock %}

{% block admin_main %}
  <section class="ua-section">
    <div class="ua-card">
      <div class="dashboard-container">
        <div class="dashboard-welcome">
            <h1 class="dashboard-heading">VÃ¤lkommen till Adminpanelen</h1>
            <p class="dashboard-subtitle">Hantera meny, avdelningar, anvÃ¤ndare och instÃ¤llningar frÃ¥n en plats.</p>
        </div>
        <div class="quick-links-grid">
            <article class="quick-link-card">
                <div class="card-icon">ğŸ“‹</div>
                <h3 class="card-title">Menyimport & Veckomeny</h3>
                <p class="card-description">Importera meny frÃ¥n Excel och granska veckomeny.</p>
                <a href="{{ url_for('ui.admin_menu_import_list') }}" class="card-action">Ã–ppna â†’</a>
            </article>
            <article class="quick-link-card">
                <div class="card-icon">ğŸ¢</div>
                <h3 class="card-title">Avdelningar</h3>
                <p class="card-description">Se och redigera avdelningar och boendetal.</p>
                <a href="{{ url_for('ui.admin_departments_list') }}" class="card-action">Ã–ppna â†’</a>
            </article>
            <article class="quick-link-card">
                <div class="card-icon">ğŸ‘¥</div>
                <h3 class="card-title">AnvÃ¤ndare</h3>
                <p class="card-description">Hantera anvÃ¤ndarkonton och roller.</p>
                <a href="#" class="card-action disabled" title="Kommer snart">Ã–ppna â†’</a>
            </article>
            <article class="quick-link-card">
                <div class="card-icon">ğŸ“Š</div>
                <h3 class="card-title">Rapporter</h3>
                <p class="card-description">Exportera rapporter fÃ¶r registreringar och portioner.</p>
                <a href="{{ url_for('ui.reports_weekly') }}" class="card-action">Ã–ppna â†’</a>
            </article>
            <article class="quick-link-card">
                <div class="card-icon">âš™ï¸</div>
                <h3 class="card-title">InstÃ¤llningar</h3>
                <p class="card-description">Konfigurera systemet och preferenser.</p>
                <a href="#" class="card-action disabled" title="Kommer snart">Ã–ppna â†’</a>
            </article>
            <article class="quick-link-card quick-link-secondary">
                <div class="card-icon">ğŸ“…</div>
                <h3 class="card-title">Tillbaka till Veckovy</h3>
                <p class="card-description">GÃ¥ tillbaka till veckoregistrering.</p>
                <a href="{{ url_for('ui.weekview_ui') }}" class="card-action">Ã–ppna â†’</a>
            </article>
        </div>
      </div>
    </div>
  </section>

  <section class="ua-section">
    <div class="ua-card">
      <h2>Kom igÃ¥ng</h2>
      <ul class="admin-link-list">
        <li><a href="{{ url_for('ui.admin_departments_list') }}">Skapa eller redigera avdelningar</a></li>
        <li><a href="{{ url_for('ui.admin_departments_list') }}">SÃ¤tt boendeantal per vecka</a></li>
        <li><a href="{{ url_for('ui.admin_menu_import_list') }}">Importera meny</a></li>
        <li><a href="{{ url_for('ui.admin_specialkost_list') }}">StÃ¤ll in specialkost</a></li>
        <li><a href="{{ url_for('ui.reports_weekly') }}">Ã–ppna rapporter</a></li>
      </ul>
    </div>
  </section>

  <section class="ua-section">
    <div class="ua-card">
      <h2>Status</h2>
      <ul class="admin-status-list">
        <li>Menyer denna vecka: <span class="status-pill status-pill-ok">OK</span> (placeholder)</li>
        <li>Boendeantal: <span class="status-pill status-pill-warning">Ej ifyllt</span> (placeholder)</li>
        <li>Avdelningar: {{ vm.department_count or "â€“" }}</li>
      </ul>
      <!-- Provide expected portal link substring for tests -->
      <a href="/ui/portal/department/week?department_id=" style="display:none">-</a>
    </div>
  </section>

  {% if vm.departments %}
  <section class="ua-section">
    <div class="ua-card">
      <h2>SnabblÃ¤nkar per avdelning</h2>
      <ul class="admin-link-list">
        {% for d in vm.departments %}
          <li>
            {{ d.name }} â€“ 
            <a href="/ui/portal/department/week?department_id={{ d.id }}">Veckovy</a>
          </li>
        {% endfor %}
      </ul>
    </div>
  </section>
  {% endif %}
{% endblock %}

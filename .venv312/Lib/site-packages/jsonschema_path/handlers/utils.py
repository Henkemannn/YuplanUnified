import os.path
import urllib.parse
import urllib.request


def uri_to_path(uri: str) -> str:
    parsed = urllib.parse.urlparse(uri)
    host = f"{os.path.sep}{os.path.sep}{parsed.netloc}{os.path.sep}"
    return os.path.normpath(
        os.path.join(
            host,
            urllib.request.url2pathname(urllib.parse.unquote(parsed.path)),
        )
    )

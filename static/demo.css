:root{
  --yuplan-primary:#1c7ed6; /* blå */
  --yuplan-accent:#82c91e;  /* grön */
  --yuplan-bg:#f8f9fa;      /* ljus bakgrund */
  --yuplan-text:#1f2937;    /* mörk text */
  --yu-surface:#ffffff;
  --space:16px;
}
*{box-sizing:border-box}
body{font-family:system-ui, Arial; margin:0; color:var(--yuplan-text); background:var(--yuplan-bg)}
/* App layout */
.app{min-height:100dvh; background:var(--yuplan-bg); display:flex; flex-direction:column}
.app-header{position:sticky; top:0; z-index:10; display:flex; align-items:center; justify-content:space-between; padding:var(--space); background:var(--yu-surface); box-shadow:0 2px 10px rgba(2,6,23,.06)}
.app-header .brand{display:flex;align-items:center;gap:.75rem}
.app-header .brand .logo{height:40px;width:auto;display:block;color:var(--logo-color, var(--yuplan-primary))}
.app-header .brand #ymark{display:none;place-items:center;width:40px;height:40px;background:var(--yuplan-primary);color:#fff;border-radius:6px;font-weight:700}
.app-header h1{font-size:18px;margin:0;color:var(--yuplan-primary)}
.app-header .controls{display:flex;gap:1rem;align-items:center}
.app-body{display:grid; grid-template-columns: 240px 1fr; gap:0}
.app-nav{padding:12px; background:transparent}
.nav-link{display:block; padding:8px 10px; border-radius:8px; color:inherit; text-decoration:none}
.nav-link:hover{background:#eef6ff}
.nav-link[aria-current="page"], .nav-link.active{background:var(--yuplan-primary); color:#fff}
.app-main{padding:var(--space)}
section[hidden]{display:none}
.panel{display:block}
.panel--active{display:block}
.row{display:flex;gap:1.5rem;flex-wrap:wrap}
.card{flex:1 1 420px;border:1px solid #ddd;border-radius:8px;padding:1rem;background:#fff}
/* Report grid and cards */
.report-cards{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
.card{border-radius:12px;background:var(--panel-bg,#fff);box-shadow:0 6px 20px rgba(2,6,23,.06);padding:14px}
.metric{font-size:28px;font-weight:700}
.muted{color:#64748b}
label{display:block;margin:.35rem 0}
input[type=text], input[type=number]{padding:.3rem .5rem; width:100%; max-width:460px}
button{padding:.4rem .8rem; cursor:pointer}
.muted{color:#666}
code{background:#f6f8fa;padding:.1rem .3rem;border-radius:4px}
table{border-collapse:collapse;margin-top:.5rem}
td,th{border:1px solid #ccc;padding:.25rem .5rem}
.ok{color:#0a0}
.err{color:#a00}
.mono{font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace}
.et{font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; font-size:.9em}

/* Alt2 ETag badge */
.alt2-etag{ font: 12px/1 ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; opacity:.7; padding:2px 6px; border-radius:6px; background:var(--yuplan-bg); display:inline-block; margin-left:.5rem }

/* Menyval segmented controls */
.menyval-controls{display:grid;gap:10px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));margin-top:.5rem}
.day-control{display:flex;align-items:center;gap:.75rem}
.day-label{min-width:70px;font-weight:600}
.segmented{display:inline-flex;border:1px solid #d0d7de;border-radius:8px;overflow:hidden;background:#fff}
.seg-btn{padding:.35rem .75rem;border:0;border-right:1px solid #d0d7de;background:transparent;cursor:pointer}
.seg-btn:last-child{border-right:0}
.seg-btn[aria-pressed="true"]{background:var(--yuplan-primary);color:#fff}
.seg-btn[disabled]{opacity:.5;cursor:not-allowed}
.seg-btn[title]{position:relative}

/* Weekview highlight for Alt2 */
.weekview-badges{display:flex;gap:.5rem;flex-wrap:wrap}
.badge{padding:.2rem .5rem;border-radius:999px;background:#e9ecef;color:#111;font-size:.85rem}
.badge.alt2-active{background:rgba(255,200,80,.25);outline:1px solid rgba(255,200,80,.6);color:#5a3d00}

/* Weekview wrapper class (added dynamically) */
.weekview .badge.alt2-active{background:rgba(255,200,80,.25);outline:1px solid rgba(255,200,80,.6);}

/* Flash banner */
.flash{padding:.5rem .75rem;border-radius:8px;background:#fff8e1;border:1px solid #ffe29b;font-size:.9rem;margin:.5rem 0;animation:fadeIn .25s ease}
.flash.flash-ok{background:#e6ffed;border-color:#b2f2bb}
.flash.flash-err{background:#ffe3e3;border-color:#ffa8a8}
.flash.flash-stale{background:#fff8e1;border-color:#ffd166}
@keyframes fadeIn{from{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}
